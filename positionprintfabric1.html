<!DOCTYPE html>
<html lang="en">
<head>
<script type="application/ld+json">
{
  "@context": "https://schema.org/",
  "@type": "Product",
  "name": "Pure Natural Crepe Fabric with Position Print Embroidery",
  "image": "https://amrutdresses.github.io/position-print-fabrics/A11111490%20pure%20natural%20crepe%20position%20prit%20fabric%2044in%201.jpg",
  "description": "High quality pure natural crepe fabric with exquisite position print embroidery work, perfect for boutiques.",
  "sku": "A11111490",
  "brand": {
    "@type": "Brand",
    "name": "Amrut Dresses"
  },
  "offers": {
    "@type": "Offer",
    "url": "https://amrutdresses.github.io/position-print-fabrics/positionprintfabric1.html",
    "priceCurrency": "INR",
    "price": "600",
    "priceValidUntil": "2025-12-31",
    "availability": "https://schema.org/InStock",
    "itemCondition": "https://schema.org/NewCondition"
  }
}
</script>

<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Fabric Quantity Discount Calculator</title>
<style>
  body { font-family: sans-serif; background: #f9f9f9; padding: 20px; }
  .calculator {
    max-width: 400px; margin: 20px auto; padding: 20px;
    background: #fff; border: 1px solid #ddd; border-radius: 10px;
  }
  h3 { margin-bottom: 10px; }
  label { font-weight: 600; }
  input[type=number] { width: 100px; padding: 5px; margin-left: 10px; }
  button {
    background-color: #4CAF50; color: white; padding: 10px 20px;
    border: none; border-radius: 5px; cursor: pointer; font-size: 16px;
    margin-top: 10px;
  }
  button:hover { background-color: #45a049; }
  #result {
    margin-top: 20px; padding-top: 15px; border-top: 1px solid #ccc;
    text-align: center; color: #333;
  }
  #result p { margin: 8px 0; }
  #copyText {
    width: 100%; padding: 10px; margin-top: 10px;
    font-weight: bold; color: #333; border: 1px solid #ccc; border-radius: 5px;
    text-align: center;
  }
  a.pay-btn {
    display: inline-block; background-color: #4CAF50; color: white;
    padding: 12px 24px; text-decoration: none; border-radius: 8px;
    font-weight: bold; font-size: 16px; margin-top: 10px;
  }
  a.pay-btn:hover { background-color: #45a049; }
  .image-container {
    max-width: 400px;
    margin: 0 auto 20px auto;
    text-align: center;
  }
  .image-title {
    font-size: 22px;
    font-weight: 700;
    margin-bottom: 10px;
    color: #222;
  }
  .image-description {
    font-size: 14px;
    color: #555;
    margin-top: 8px;
    margin-bottom: 20px;
  }
</style>
</head>
<body>

<div class="image-container">
  <div class="image-title">Pure Natural Crepe Fabric with Position Print Embroidery</div>
  <img src="A11111490%20pure%20natural%20crepe%20position%20prit%20fabric%2044in%201.jpg" alt="Pure Natural Crepe Position Print Fabric" style="max-width:100%; height:auto;">
  <div class="image-description">High quality pure natural crepe fabric with exquisite position print embroidery work, perfect for boutiques.</div>
</div>

<div class="calculator">
  <h3>Quantity Discount Calculator</h3>
  <p style="color: #555; font-size: 14px; margin-bottom: 15px;">
    Increase Quantity For Better Rates.
  </p>

  <label for="quantity">Quantity (in meters):</label>
  <input
    type="number"
    id="quantity"
    step="1"
    min="1"
    max="9"
    value="1"
  />

  <button id="calculateBtn" type="button">Calculate</button>

  <div id="result"></div>
</div>

<script>
  // Static product data variables (from your input)
  const purchase_rate = 500;
  const purchase_charges = 100;
  const weight = 0.2;
  const stock = 9;
  const min_qty = 1;

  const cost_per_item = purchase_rate + purchase_charges;

  // Shipping ranges with added 0.2kg = 100 shipping cost
  const ranges = [
    [25, 1980],[24.5,1650],[24,1650],[23.5,1320],[23,1320],[22.5,1650],[22,1590],
    [21.5,1540],[21,1490],[20.5,1440],[20,1400],[19.5,1320],[19,1320],[18.5,1320],
    [18,1320],[17.5,1320],[17,1260],[16.5,1210],[16,1160],[15.5,1110],[15,1070],
    [14.5,990],[14,990],[13.5,990],[13,990],[12.5,990],[12,930],[11.5,880],[11,830],
    [10.5,780],[10,740],[9.5,660],[9,660],[8.5,660],[8,660],[7.5,660],[7,600],
    [6.5,550],[6,500],[5.5,450],[5,410],[4.5,330],[4,330],[3.5,440],[3,370],
    [2.5,330],[2,270],[1.5,220],[1,170],[0.5,120],[0.2,100],[0,80]
  ];

  // Updated profit array: first element 120 instead of 110
  const baseProfits = [120, 200, 270, 320, 350, 360, 385, 400, 405, 410];

  // Modified getShipping to work descending
  function getShipping(weight) {
    for (let i = ranges.length - 1; i >= 0; i--) {
      if (weight >= ranges[i][0]) {
        return ranges[i][1];
      }
    }
    return 0;
  }

  function calculateTotal(cost, weightage, quantity) {
    const totalWeight = quantity * weightage;
    const basicCost = cost * quantity;
    const shipping = getShipping(totalWeight);

    let profit = 0;
    if (quantity <= 10) {
      profit = baseProfits[quantity - 1] || 0;
    } else {
      profit = 410 + (quantity - 10) * 5;
    }

    const subtotal = basicCost + profit + shipping;
    const gst = subtotal * 0.05;
    const total = subtotal + gst;
    const pricePerMeter = Math.ceil(total / quantity);

    return {
      total: total.toFixed(2),
      pricePerMeter: pricePerMeter,
      resultText: pricePerMeter + " ₹ per meter for " + quantity + " meter"
    };
  }

  function calculateShipping() {
    const quantityInput = document.getElementById("quantity");
    const quantity = parseInt(quantityInput.value);

    if (!quantity || quantity < min_qty) {
      alert(`Please enter quantity greater than or equal to ${min_qty}.`);
      quantityInput.focus();
      return;
    }

    if (quantity > stock) {
      alert(`Quantity cannot be more than available stock (${stock}).`);
      quantityInput.value = stock;
      quantityInput.focus();
      return;
    }

    const calc = calculateTotal(cost_per_item, weight, quantity);
    const finalTotalAmount = calc.pricePerMeter * quantity;

    document.getElementById("result").innerHTML = `
      <p style="font-size: 18px; margin: 10px 0; color: #333;"><strong>${calc.resultText}</strong></p>
      <p style="font-size: 20px; margin: 10px 0; color: #4CAF50;"><strong>Total Payable: ₹${finalTotalAmount}</strong></p>
      <input 
        type='text' 
        id='copyText' 
        value='${calc.resultText} | Total Payable: ₹${finalTotalAmount}' 
        readonly 
        style='width: 100%; padding: 10px; margin-top: 10px; text-align: center; font-size: 14px; font-weight: bold; color: #333; border: 1px solid #ccc; border-radius: 5px;'
      ><br>
      <a 
        href="https://amrutdresses.github.io/upi-payment-page/qrfixindex.html?amount=${finalTotalAmount}" 
        target="_blank" 
        class="pay-btn"
      >
        Pay Now via UPI
      </a>
    `;
  }

  document.addEventListener('DOMContentLoaded', function () {
    document.getElementById('calculateBtn').addEventListener('click', calculateShipping);
  });
</script>

</body>
</html>
